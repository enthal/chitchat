<script src='http://coffeescript.org/extras/coffee-script.js'></script>
<script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.2.9/angular.js'></script>
<script src='https://s3-us-west-2.amazonaws.com/change-ds-tj/socket.io/socket.io.js'></script>

<script src='app.coffee' type='text/coffeescript'></script>

<body ng-app='chitchat'>

  <h1>chitchat</h1>

  <div ng-controller='ChitChat'>
    <div ng-if=" isConnected">:-) connected</div>
    <div ng-if="!isConnected">:-( disconnected</div>

    <form ng-submit="sendMessage()">
      <input type="text" ng-model="messageText" placeholder="your message">
      <input type="submit" value="send">
    </form>

    <label>{{messages.length}} messages</label>
    <ul>
      <li ng-repeat='message in messages'>{{message.body}}</li>
    </ul>
  </div>

</body>


<!-- allow coffeescript to convert before angular bootstraps -->
<script type='text/coffeescript'> angular.resumeBootstrap() </script>
<script> window.name = 'NG_DEFER_BOOTSTRAP!'</script>
